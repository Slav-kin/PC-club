<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PC_club.ViewModels"
             xmlns:models="using:PC_club.Models"
             x:Class="PC_club.Views.HomeView"
             x:DataType="vm:HomeViewModel">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Border Padding="24" Background="#0a0a0a">
            <StackPanel>
                <StackPanel Margin="0,0,0,24">
                    <TextBlock Text="Головна панель" FontSize="24" Margin="0,0,0,4" Foreground="{DynamicResource WhiteText}" />
                    <TextBlock Text="Огляд стану ігрового клубу" FontSize="14" Foreground="{DynamicResource PrimarySecondText}" />
                </StackPanel>

                <UniformGrid Columns="4">
                    <Border Padding="16" Background="{DynamicResource SectionBackColor}" CornerRadius="10" Margin="8">
                        <StackPanel>
                            <PathIcon Width="20" Height="20" Data="M21,14H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10L8,21V22H16V21L14,18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" Foreground="#99a1af" HorizontalAlignment="Left" />
                            <TextBlock Text="{Binding OccupiedPlacesCount}" FontSize="14" Foreground="{DynamicResource WhiteText}" />
                            <TextBlock Text="Зайнято місць" FontSize="12" Foreground="#99a1af" />
                        </StackPanel>
                    </Border>
                    <Border Padding="16" Background="{DynamicResource SectionBackColor}" CornerRadius="10" Margin="8">
                        <StackPanel>
                            <PathIcon Width="20" Height="20" Data="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" Foreground="#99a1af" HorizontalAlignment="Left" />
                            <TextBlock Text="{Binding ActiveClientsCount}" FontSize="14" Foreground="{DynamicResource WhiteText}" />
                            <TextBlock Text="Активні клієнти" FontSize="12" Foreground="#99a1af" />
                        </StackPanel>
                    </Border>
                    <Border Padding="16" Background="{DynamicResource SectionBackColor}" CornerRadius="10" Margin="8">
                        <StackPanel>
                            <PathIcon Width="20" Height="20" Data="M12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C6.47,22 2,17.53 2,12A10,10 0 0,1 12,2M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z" Foreground="#99a1af" HorizontalAlignment="Left" />
                            <TextBlock Text="{Binding TodaySessionsCount}" FontSize="14" Foreground="{DynamicResource WhiteText}" />
                            <TextBlock Text="Сесії сьогодні" FontSize="12" Foreground="#99a1af" />
                        </StackPanel>
                    </Border>
                    <Border Padding="16" Background="{DynamicResource SectionBackColor}" CornerRadius="10" Margin="8">
                        <StackPanel>
                            <PathIcon Width="20" Height="20" Data="M16,6L18.29,8.29L13.41,13.17L9.41,9.17L2,16.58L3.41,18L9.41,12L13.41,16L19.71,9.71L22,12V6H16Z" Foreground="#99a1af" HorizontalAlignment="Left" />
                            <TextBlock Text="{Binding TodayIncome}" FontSize="14" Foreground="{DynamicResource WhiteText}" />
                            <TextBlock Text="Дохід сьогодні" FontSize="12" Foreground="#99a1af" />
                        </StackPanel>
                    </Border>
                </UniformGrid>

                <Border Background="{DynamicResource SectionBackColor}" CornerRadius="10" Padding="24" Margin="0,20,0,0">
                    <StackPanel>
                        <TextBlock Text="Схема залу" FontSize="20" FontWeight="SemiBold" Foreground="{DynamicResource WhiteText}" Margin="0,0,0,20" />
                        <ItemsControl ItemsSource="{Binding PCPlaces}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <UniformGrid Columns="5" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate x:DataType="models:Place">
                                    <Border BorderBrush="{Binding StatusColor}" BorderThickness="1.5" CornerRadius="12" Margin="8" Padding="16" Background="#111111">
                                        <StackPanel Spacing="10">
                                            <DockPanel>
                                                <TextBlock Text="{Binding PlaceNumber, StringFormat='Місце #{0}'}" FontSize="12" Foreground="#99a1af" />
                                                <Ellipse Width="8" Height="8" Fill="{Binding StatusColor}" HorizontalAlignment="Right" />
                                            </DockPanel>
                                            <Border Background="#6c5ce7" CornerRadius="6" HorizontalAlignment="Left" Padding="8,4">
                                                <TextBlock Text="{Binding CurrentTariffName}" FontSize="12" FontWeight="Bold" Foreground="{DynamicResource WhiteText}" />
                                            </Border>
                                            <TextBlock Text="{Binding CurrentClientNickname}" FontSize="14" Foreground="{DynamicResource WhiteText}" Margin="0,5,0,0" />
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>

                <Grid Margin="0,20,0,0">
                    <StackPanel Orientation="Horizontal" Spacing="20">
                        <StackPanel Orientation="Horizontal" Spacing="5">
                            <Ellipse Width="12" Height="12" Fill="Green" />
                            <TextBlock Text="Вільно" Foreground="{DynamicResource PrimarySecondText}" VerticalAlignment="Center" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="5">
                            <Ellipse Width="12" Height="12" Fill="Red" />
                            <TextBlock Text="Зайнято" Foreground="{DynamicResource PrimarySecondText}" VerticalAlignment="Center" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Spacing="5">
                            <Ellipse Width="12" Height="12" Fill="#f0b100" />
                            <TextBlock Text="Заброньовано" Foreground="{DynamicResource PrimarySecondText}" VerticalAlignment="Center" />
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </Border>
    </ScrollViewer>
</UserControl>